{"version":3,"sources":["components/Container/Container.js","components/Searchbar/Searchbar.js","assets/images/default640.jpg","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","assets/images/default1280.jpg","components/ModalImg/ModalImg.js","components/TitleOnError/TitleOnError.js","services/images-api.js","App.js","index.js"],"names":["Container","children","className","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","url","title","onOpenModal","onClick","src","alt","defaultProps","defaultImg","ImageGallery","images","map","id","webformatURL","largeImageURL","tags","Button","handleOnClick","Modal","handleKeyDown","code","onCloseModal","handleCloseOverlay","target","window","addEventListener","document","querySelector","setAttribute","removeEventListener","removeAttribute","createPortal","getElementById","ModalImg","onBtnCloseModal","TitleOnError","axios","defaults","baseURL","fetchImages","page","get","then","res","data","App","currentPage","searchQuery","totalImages","isLoading","error","showModal","bigImageUrl","handleFormSubmit","newImagesApi","hits","totalHits","prevState","length","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","toggleModal","handleOpenModal","prevProps","shouldRenderLoadMoreButton","color","height","width","style","display","justifyContent","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.25588879.chunk.js","sourcesContent":["import React from 'react';\nimport './Container.scss';\n\nconst Container = ({ children }) => <div className=\"Container\">{children}</div>;\n\nexport default Container;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './Searchbar.scss';\n\nclass Searchbar extends Component {\n  state = { query: '' };\n\n  handleChange = e => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n            value={query}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","export default __webpack_public_path__ + \"static/media/default640.03b95fa1.jpg\";","import React from 'react';\nimport defaultImg from '../../../assets/images/default640.jpg';\n\nconst ImageGalleryItem = ({ url, title, onOpenModal }) => (\n  <img\n    onClick={onOpenModal}\n    src={url}\n    alt={title}\n    className=\"ImageGalleryItem-image\"\n  />\n);\n\nImageGalleryItem.defaultProps = {\n  url: defaultImg,\n  title: 'type__photo',\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport './ImageGallery.scss';\n\nconst ImageGallery = ({ images, onOpenModal }) => (\n  <ul className=\"ImageGallery\">\n    {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n      <li key={id} className=\"ImageGalleryItem\">\n        <ImageGalleryItem\n          url={webformatURL}\n          title={tags}\n          onOpenModal={() => onOpenModal(largeImageURL)}\n        />\n      </li>\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n      tags: PropTypes.string,\n    }),\n  ).isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './Button.scss';\n\nconst Button = ({ handleOnClick }) => (\n  <button className=\"Button\" onClick={handleOnClick} type=\"button\">\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  handleOnClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport './Modal.scss';\n\nclass Modal extends Component {\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n    document.querySelector('html').setAttribute('style', 'overflow: hidden');\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n    document.querySelector('html').removeAttribute('style');\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onCloseModal();\n    }\n  };\n\n  handleCloseOverlay = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onCloseModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleCloseOverlay}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      document.getElementById('modal-root'),\n    );\n  }\n}\n\nModal.propTypes = {\n  onCloseModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","export default __webpack_public_path__ + \"static/media/default1280.667af0be.jpg\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport defaultImg from '../../assets/images/default1280.jpg';\nimport './ModalImg.scss';\n\nconst ModalImg = ({ url, onBtnCloseModal }) => (\n  <>\n    <img src={url} alt=\"\" className=\"ModalImg\" />\n    <button\n      className=\"button__close-modal\"\n      onClick={onBtnCloseModal}\n      type=\"button\"\n    ></button>\n  </>\n);\n\nModalImg.defaultProps = {\n  url: defaultImg,\n};\n\nModalImg.propTypes = {\n  url: PropTypes.string,\n  onBtnCloseModal: PropTypes.func.isRequired,\n};\n\nexport default ModalImg;\n","import React from 'react';\nimport './TitleOnError.scss';\n\nconst TitleOnError = () => (\n  <h1 className=\"Title__error\">\n    Oops, something went wrong <span className=\"Title__error--red\">!!!</span>\n  </h1>\n);\n\nexport default TitleOnError;\n","import axios from 'axios';\n\nconst API_KEY = '19672422-ecfdf660c6c197879e9ade35c';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst fetchImages = (query, page) => {\n  return axios\n    .get(\n      `?key=${API_KEY}&q=${query}&page=${page}&per_page=12&image_type=photo&orientation=horizontal`,\n    )\n    .then(res => res.data);\n};\n\nexport default fetchImages;\n","import React, { Component } from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\nimport { CircleArrow as ScrollUpButton } from 'react-scroll-up-button';\nimport Container from './components/Container';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport ModalImg from './components/ModalImg';\nimport TitleOnError from './components/TitleOnError';\nimport newImagesApi from './services/images-api';\n\nclass App extends Component {\n  state = {\n    currentPage: 1,\n    searchQuery: '',\n    images: [],\n    totalImages: null,\n    isLoading: false,\n    error: null,\n    showModal: false,\n    bigImageUrl: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  handleFormSubmit = query => {\n    this.setState({\n      currentPage: 1,\n      searchQuery: query,\n      images: [],\n      totalImages: null,\n      error: null,\n      bigImageUrl: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { searchQuery, currentPage, images } = this.state;\n    this.setState({ isLoading: true });\n\n    newImagesApi(searchQuery, currentPage)\n      .then(({ hits, totalHits }) => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n          currentPage: prevState.currentPage + 1,\n          totalImages: totalHits,\n        }));\n\n        if (images.length > 11) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(prevState => ({ showModal: !prevState.showModal }));\n  };\n\n  handleOpenModal = url => {\n    this.setState({ bigImageUrl: url });\n    this.toggleModal();\n  };\n\n  render() {\n    const {\n      images,\n      isLoading,\n      totalImages,\n      error,\n      showModal,\n      bigImageUrl,\n    } = this.state;\n\n    const shouldRenderLoadMoreButton =\n      images.length > 0 && !isLoading && images.length !== totalImages;\n\n    return (\n      <Container>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {error && <TitleOnError />}\n\n        <ImageGallery images={images} onOpenModal={this.handleOpenModal} />\n\n        {shouldRenderLoadMoreButton && (\n          <Button handleOnClick={this.fetchImages} />\n        )}\n\n        {isLoading && (\n          <Loader\n            type=\"ThreeDots\"\n            color=\"#3f51b5\"\n            height={50}\n            width={80}\n            style={{ display: 'flex', justifyContent: 'center' }}\n          />\n        )}\n\n        {showModal && (\n          <Modal onCloseModal={this.toggleModal}>\n            <ModalImg url={bigImageUrl} onBtnCloseModal={this.toggleModal} />\n          </Modal>\n        )}\n\n        {!showModal && <ScrollUpButton />}\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}